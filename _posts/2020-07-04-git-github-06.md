---
layout: post
title:  "[Git] 6. Git Conflict, Merge"
date:   2020-07-04
categories: Git Windows
---

이 포스팅은 `Git 세미나를` 위한 포스팅입니다.

---

이번 장에서는 Git을 사용함에 있어서 반드시 발생하는 충돌에 대해서 알아보려고 한다. 충돌이 생기는 원인과 해결법을 포함해도 브랜치 간 커밋을 합하는 병합을 포함한 내용이다

---

#### p4Merge 설치

밑에서 다룰 충돌 conflict가 발생했을 때 프로젝트 단위가 크다면 conflict를 해결을 하는데 난처해진다. 이는 tool을 사용하지 않을 떄의 얘기다. 그래서인지 third-party로 제공도니느 merge tool이 많이 존재한다. 그 중 가격과 성능(3-way-merge)이 우수하다고 판단되는 `p4merge`를 설치해보려고 한다. 이외에도 `KDiff3`도 우수하다는 평이 많으니, 참고해도 좋을 것 같다

1. 다음 [PERFORCE 링크]로 들어가서 아래와 같이 설정한 후 확인을 누른다. 그 후 정보 입력 없이 `Skip Registration`을 누르면 바로 다운로드가 가능하다

   ![01](https://drive.google.com/uc?id=1ooieGLcPDj1wNp_5tJGuJjfpcTWDZbsU)

2. 설치파일을 실행한다. 모든 소프트웨어를 다운로드 받을 필요는 없고, `p4Merge`만 받도록 할 것이다. 그리고 설치 파일의 위치를 기억하도록 한다

   ![02](https://drive.google.com/uc?id=1yPZC6dtlR6Gkr4D_W03DskOJ73SlBqif)

3. 그러면 설치 디렉토리에 설치된 것을 확인할 수 있다

   ![03](https://drive.google.com/uc?id=1GbZxrbxTcGm3ATlEEE-mvZt4Tyf8AQJP)

---

#### p4Merge를 mergetool로 등록

Git 공식 [링크]([https://git-scm.com/book/ko/v2/Git%EB%A7%9E%EC%B6%A4-Git-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0](https://git-scm.com/book/ko/v2/Git맞춤-Git-설정하기))에서는 Linux에서 mergetool 설정을 하는 부분이 장황하게 설명되어 있지만, Window에서 Git-bash를 이용하면 쉽게 p4Merge를 mergetool로 설정할 수 있게 된다

1. __바탕화면(어디든지 상관없다)에서 Git-bash를 열도록 한다.__

   ![04](https://drive.google.com/uc?id=1bNOG16gtSchbGXJDbN6Otz8moZfW2ZVz)

2. 그리고 다음 명령들을 순서대로 입력하도록 한다. p4Merge 디렉토리는 PC마다 다를 수 있기에 반드시 체크 후에 기입하도록 한다

   ```bash
   $ git config --global merge.tool p4merge
   $ git config --global mergetool.p4merge.cmd 'p4merge $BASE $LOCAL $REMOTE $MERGED'
   $ git config --global mergetool.p4merge.path 'C:\Program Files\Perforce\p4merge.exe'
   ```

   ![05](https://drive.google.com/uc?id=1rqJ3fHKKKSOWkbRKMxWW12hq10kiejGA)

3. 그러면 `C:\Users\사용자\.gitconfig`에 위에서 적용한 내용을 확인할 수 있다

   ![06](https://drive.google.com/uc?id=103Q1p09NDYsi8jkPJfStRXFFzA5A8yzR)

